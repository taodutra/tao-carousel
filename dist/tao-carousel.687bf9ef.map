{"version":3,"sources":["lib\\tao-carousel.js","index.js"],"names":["taoCarousel","carousel","config","$carousel","$carouselBox","$carouselContent","$carouselItemList","totalItems","moduleWidth","startClick","endClick","isDragging","carouselBox","carouselContent","carouselItem","current","onUpdate","preventEvents","activeClass","Object","assign","getElement","length","init","onMouseDown","handleMouseDown","bind","onMouseUp","handleMouseUp","onDrag","handleDrag","onResize","updateSizes","addEventListeners","autoDestroy","value","father","document","multiple","clientWidth","updateContentSize","event","offsetX","window","addEventListener","removeEventListener","console","log","clientX","style","width","carouselChecker","setInterval","body","contains","clearInterval","destroy","removeEventListeners","$el","querySelector"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJjB;;;;;;AAEA,IAAME,SAAS;AACX;AACA;AACA;AAHW,CAAf;AAKA,IAAMwD,MAAMrB,SAASsB,aAAT,CAAuB,WAAvB,CAAZ;AACA,IAAM1D,WAAW,0BAAgByD,GAAhB,EAAqBxD,MAArB,CAAjB;AACA;AACA;AACA;AACA","file":"tao-carousel.687bf9ef.map","sourcesContent":["class taoCarousel {\r\n    /**\r\n     * @param {*} carousel \r\n     * @param {*} config \r\n     */\r\n    constructor(carousel, config) {\r\n        if (!carousel) {\r\n            return;\r\n        }\r\n        this.$carousel = null;\r\n        this.$carouselBox = null;\r\n        this.$carouselContent = null;\r\n        this.$carouselItemList = [];\r\n        this.totalItems = 0;\r\n        this.moduleWidth = 0;\r\n        this.startClick = 0;\r\n        this.endClick = 0;\r\n        this.isDragging = false;\r\n        this.config = {\r\n            carouselBox: '.carousel-box',\r\n            carouselContent: '.carousel-content',\r\n            carouselItem: '.carousel-item',\r\n            current: 1,\r\n            onUpdate: null,\r\n            preventEvents: false,\r\n            activeClass: 'active',\r\n        };\r\n        this.config = Object.assign(this.config, config); // {...this.confug, confug}\r\n        this.$carousel = this.getElement(carousel);\r\n        this.$carouselBox = this.getElement(this.config.carouselBox, this.$carousel);\r\n        this.$carouselContent = this.getElement(this.config.carouselContent, this.$carouselBox);\r\n        this.$carouselItemList = this.getElement(this.config.carouselItem, this.$carouselContent, true);\r\n        this.totalItems = this.$carouselItemList.length;\r\n        if (\r\n            this.$carousel &&\r\n            this.$carouselBox &&\r\n            this.$carouselContent &&\r\n            this.$carouselItemList &&\r\n            this.totalItems\r\n        ) {\r\n            this.init();\r\n        }\r\n    };\r\n    /**\r\n     * init\r\n     */\r\n    init() {\r\n        this.onMouseDown = this.handleMouseDown.bind(this);\r\n        this.onMouseUp = this.handleMouseUp.bind(this);\r\n        this.onDrag = this.handleDrag.bind(this);\r\n        this.onResize = this.updateSizes.bind(this);\r\n        // first execution\r\n        this.updateSizes();\r\n        this.addEventListeners();\r\n        this.autoDestroy();\r\n    };\r\n    /**\r\n     * getElements\r\n     * @param {*} value \r\n     * @param {boolean} multiple \r\n     */\r\n    getElement(value, father = document, multiple = false) {\r\n        return typeof value === 'object' ? value : father[multiple ? 'querySelectorAll' : 'querySelector'](value)\r\n    };\r\n    /**\r\n     * updateSizes\r\n     */\r\n    updateSizes() {\r\n        this.moduleWidth = this.$carouselBox.clientWidth;\r\n        this.updateContentSize();\r\n    };\r\n    /**\r\n     * handleMouseDown\r\n     * @param {event} event \r\n     */\r\n    handleMouseDown(event) {\r\n        this.isDragging = true;\r\n        this.startClick = event.offsetX;\r\n        window.addEventListener('mousemove',  this.onDrag);\r\n    };\r\n    /**\r\n     * handleMouseUp\r\n     * @param {event} event \r\n     */\r\n    handleMouseUp(event) {\r\n        if (!this.isDragging) {\r\n            return;\r\n        }\r\n        this.isDragging = false;\r\n        this.endClick = event.offsetX;\r\n        window.removeEventListener('mousemove',  this.onDrag);\r\n        console.log(this.endClick, this.isDragging);\r\n    };\r\n    /**\r\n     * handleDrag\r\n     * @param {event} event \r\n     */\r\n    handleDrag(event) {\r\n        // this.$carousel.style.left = `${}`;\r\n        if (this.isDragging) {\r\n            console.log('isDragging', event.clientX);\r\n        }\r\n    };\r\n    /**\r\n     * updateContentSize\r\n     */\r\n    updateContentSize() {\r\n        this.$carouselContent.style.width = `${ this.moduleWidth * this.totalItems }px`;\r\n    };\r\n    /**\r\n     * addEventListeners\r\n     */\r\n    addEventListeners() {\r\n        console.log('addEventListeners');\r\n        this.$carousel.addEventListener('mousedown', this.onMouseDown);\r\n        window.addEventListener('mouseup',  this.onMouseUp);\r\n        window.addEventListener('resize',  this.onResize);\r\n    };\r\n    /**\r\n     * removeEventListeners\r\n     */\r\n    removeEventListeners() {\r\n        console.log('removeEventListeners');\r\n        this.$carousel.removeEventListener('mousedown', this.onMouseDown);\r\n        window.removeEventListener('mouseup', this.onMouseUp);\r\n        window.removeEventListener('resize', this.onResize);\r\n    };\r\n    /**\r\n     * autoDestroy\r\n     */\r\n    autoDestroy() {\r\n        this.carouselChecker = setInterval(() => {\r\n            // TODO: refactor the checker\r\n            if (!document.body.contains(this.$carousel)) {\r\n                clearInterval(this.carouselChecker);\r\n                this.destroy();\r\n            }\r\n        }, 100);\r\n    };\r\n    /**\r\n     * destroy\r\n     */\r\n    destroy() {\r\n        console.log('destroy');\r\n        this.removeEventListeners();\r\n    };\r\n  };\r\n  \r\n  export default taoCarousel;","import taoCarousel from './lib/tao-carousel';\r\n\r\nconst config = {\r\n    // carouselBox: '.carousel-box',\r\n    // carouselContent: '.carousel-content',\r\n    // carouselItem: '.carousel-item',\r\n};\r\nconst $el = document.querySelector('.carousel');\r\nconst carousel = new taoCarousel($el, config);\r\n// setTimeout(() => {\r\n//     carousel.destroy();\r\n// }, 5000);\r\n// taoCarousel.create($el, config);"]}